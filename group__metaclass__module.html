<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libqmlbind: qmlbind_metaclass</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="highlight-code.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libqmlbind
   </div>
   <div id="projectbrief">A C library for creating QML bindings for other languages easily through exporting objects to QML</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">qmlbind_metaclass</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines an object type for use in QML type system.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:metaclass_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="metaclass_8h.html">metaclass.h</a></td></tr>
<tr class="memdesc:metaclass_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all methods defined on <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">an opaque struct mainly used as <code>self</code> argument in the methods defined in <a class="el" href="group__metaclass__module.html">qmlbind_metaclass</a>.  <a href="structqmlbind__metaclass.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9dbb515319c62036fe309610a0d8a66d"><td class="memItemLeft" align="right" valign="top">QMLBIND_API <a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#ga9dbb515319c62036fe309610a0d8a66d">qmlbind_metaclass_new</a> (<a class="el" href="structqmlbind__client__class.html">qmlbind_client_class</a> *classObject, const char *className, <a class="el" href="structqmlbind__client__callbacks.html">qmlbind_client_callbacks</a> callbacks)</td></tr>
<tr class="memdesc:ga9dbb515319c62036fe309610a0d8a66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code>.  <a href="#ga9dbb515319c62036fe309610a0d8a66d">More...</a><br /></td></tr>
<tr class="separator:ga9dbb515319c62036fe309610a0d8a66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c4933fbf2771aa453c064b3bf93518d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9c4933fbf2771aa453c064b3bf93518d"></a>
QMLBIND_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#ga9c4933fbf2771aa453c064b3bf93518d">qmlbind_metaclass_release</a> (<a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *self)</td></tr>
<tr class="memdesc:ga9c4933fbf2771aa453c064b3bf93518d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code>. <br /></td></tr>
<tr class="separator:ga9c4933fbf2771aa453c064b3bf93518d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd07f1b5163bfc2d54712f0629b021f8"><td class="memItemLeft" align="right" valign="top">QMLBIND_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#gacd07f1b5163bfc2d54712f0629b021f8">qmlbind_metaclass_add_method</a> (<a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *self, const char *name, int arity)</td></tr>
<tr class="memdesc:gacd07f1b5163bfc2d54712f0629b021f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new method <code>name</code> for the resulting metaobject with <code>arity</code> number of parameters.  <a href="#gacd07f1b5163bfc2d54712f0629b021f8">More...</a><br /></td></tr>
<tr class="separator:gacd07f1b5163bfc2d54712f0629b021f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a80b6ec0a583d3ea17fb1c6ce32d802"><td class="memItemLeft" align="right" valign="top">QMLBIND_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#ga3a80b6ec0a583d3ea17fb1c6ce32d802">qmlbind_metaclass_add_signal</a> (<a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *self, const char *name, int arity, const char *const *params)</td></tr>
<tr class="memdesc:ga3a80b6ec0a583d3ea17fb1c6ce32d802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new signal <code>name</code> for the resulting metaobject with <code>arity</code> number of parameters.  <a href="#ga3a80b6ec0a583d3ea17fb1c6ce32d802">More...</a><br /></td></tr>
<tr class="separator:ga3a80b6ec0a583d3ea17fb1c6ce32d802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab39870ef377d79833b17d7894c7b0427"><td class="memItemLeft" align="right" valign="top">QMLBIND_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#gab39870ef377d79833b17d7894c7b0427">qmlbind_metaclass_add_property</a> (<a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *self, const char *name, const char *notifierSignal)</td></tr>
<tr class="memdesc:gab39870ef377d79833b17d7894c7b0427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new property <code>name</code> for the resulting metaobject, which should emit <code>notifierSignal</code> on changes.  <a href="#gab39870ef377d79833b17d7894c7b0427">More...</a><br /></td></tr>
<tr class="separator:gab39870ef377d79833b17d7894c7b0427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cae8d1db0d026e8999cc685b7755e00"><td class="memItemLeft" align="right" valign="top">QMLBIND_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__metaclass__module.html#ga3cae8d1db0d026e8999cc685b7755e00">qmlbind_metaclass_register</a> (const <a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *self, const char *uri, int versionMajor, int versionMinor, const char *qmlName)</td></tr>
<tr class="memdesc:ga3cae8d1db0d026e8999cc685b7755e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">exposes the metaclass as <code>qmlName</code> component to QML type system.  <a href="#ga3cae8d1db0d026e8999cc685b7755e00">More...</a><br /></td></tr>
<tr class="separator:ga3cae8d1db0d026e8999cc685b7755e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Defines an object type for use in QML type system. </p>
<p>It enables you to wrap client objects into a <a href="http://doc.qt.io/qt-5/qtqml-typesystem-objecttypes.html">QML object type</a> and instantiate them in QML. It is also possible to create wrappers as <code><a class="el" href="structqmlbind__value.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_value. ">qmlbind_value</a></code> in <code>qmlbind_engine_new_wrapper</code>.</p>
<p>Internally, the <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code> creates a <a href="https://doc.qt.io/qt-5/qmetaobject.html">QMetaObject</a> for the wrapper Qt objects.</p>
<p>It is not recommended to use multiple <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code> instances for the same class name to prevent possible internal blow-up or strange side effects.</p>
<p>libqmlbind's rough equivalent of <a href="http://doc.qt.io/qt-5/moc.html">Meta-Object Compiler</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9dbb515319c62036fe309610a0d8a66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMLBIND_API <a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a>* qmlbind_metaclass_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structqmlbind__client__class.html">qmlbind_client_class</a> *&#160;</td>
          <td class="paramname"><em>classObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>className</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structqmlbind__client__callbacks.html">qmlbind_client_callbacks</a>&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <code><a class="el" href="structqmlbind__metaclass.html" title="an opaque struct mainly used as self argument in the methods defined in qmlbind_metaclass. ">qmlbind_metaclass</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">classObject</td><td>will be given as parameter to the <code>new_object</code> function of the provided <code><a class="el" href="structqmlbind__client__callbacks.html" title="encapsulates client-side functions that are used from QML for C object creation, destruction, method calls and property modification. ">qmlbind_client_callbacks</a></code>. You can use it to hand over the equivalent of class objects in your language to implement a generic <code>new_object</code> function. If you don't need it, just hand over a nullpointer. This function does not take ownership of the classObject, but it still needs to be valid for as long as new objects are created (i.e. the whole application lifetime).</td></tr>
    <tr><td class="paramname">className</td><td>is used for registering this metaclass in the metaobject system.</td></tr>
    <tr><td class="paramname">callbacks</td><td>is used to create, use and delete instances of the metaobject to build. You can either create a single, generic one and pass that to every new <a class="el" href="group__metaclass__module.html#ga9dbb515319c62036fe309610a0d8a66d">qmlbind_metaclass_new</a>, or create specific ones for each metaclass. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacd07f1b5163bfc2d54712f0629b021f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMLBIND_API void qmlbind_metaclass_add_method </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>arity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new method <code>name</code> for the resulting metaobject with <code>arity</code> number of parameters. </p>
<p>Such methods can either directly be called from QML or be used as QML signal handlers, as described in <a href="https://doc.qt.io/qt-5/qtqml-syntax-signals.html">Signal and Handler Event System</a>.</p>
<p>libqmlbind's equivalent of <a href="https://doc.qt.io/qt-5/qobject.html#Q_INVOKABLE">QObject's Q_INVOKABLE</a>. </p>

</div>
</div>
<a class="anchor" id="ga3a80b6ec0a583d3ea17fb1c6ce32d802"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMLBIND_API void qmlbind_metaclass_add_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>arity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new signal <code>name</code> for the resulting metaobject with <code>arity</code> number of parameters. </p>
<p><code>params</code> specifies the name of the signal parameters and has to be of length <code>arity</code>, which means you have to specify a name for each parameter.</p>
<p>Such signals can be received by QML signal handlers, as described in <a href="https://doc.qt.io/qt-5/qtqml-syntax-signals.html">Signal and Handler Event System</a>. </p>

</div>
</div>
<a class="anchor" id="gab39870ef377d79833b17d7894c7b0427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMLBIND_API void qmlbind_metaclass_add_property </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>notifierSignal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new property <code>name</code> for the resulting metaobject, which should emit <code>notifierSignal</code> on changes. </p>
<p>Properties in libqmlbind are always readable and writable from QML code, and must have a notifierSignal for changes. Other possibilities, like a read-only or a constant proprerty, are not yet explicitly supported. But of course you could can use a signal that is never emitted and refrain from writing to the propertiesâ€¦</p>
<p>Read &amp; write operations will be executed through <code><a class="el" href="structqmlbind__client__callbacks.html" title="encapsulates client-side functions that are used from QML for C object creation, destruction, method calls and property modification. ">qmlbind_client_callbacks</a></code>' <code>read_property</code> &amp; <code>write_property</code> functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notifierSignal</td><td>has to be a valid signal name, which means neither a nullptr nor an empty string. The signal should be added with <code>qmlbind_metaclass_add_signal</code> in advance, or else a warning will be issued. Notify signals are usually named <code>&lt;propertyname&gt;Changed</code> in Qt.</td></tr>
  </table>
  </dd>
</dl>
<p>libqmlbind's equivalent of <a href="https://doc.qt.io/qt-5/properties.html">Q_PROPERTY</a>, always using READ, WRITE and NOTIFY. </p>

</div>
</div>
<a class="anchor" id="ga3cae8d1db0d026e8999cc685b7755e00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMLBIND_API int qmlbind_metaclass_register </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structqmlbind__metaclass.html">qmlbind_metaclass</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>versionMajor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>versionMinor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>qmlName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>exposes the metaclass as <code>qmlName</code> component to QML type system. </p>
<p><code>uri</code>, <code>versionMajor</code> and <code>versionMinor</code> is the package uri and version under which this <code>metaclass</code> is made available to QML. After calling this function, you can import the component as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;import &lt;uri&gt; &lt;versionMajor&gt;.&lt;versionMinor&gt;</div></div><!-- fragment --><p>The content of the metaclass is copied when this function is called. You can destroy the metaclass just after calling this function, but you should keep around the metaclass if you are going to use <code>qmlbind_engine_new_wrapper</code> later on for the same class.</p>
<p>After registering, metaclass changes such as method addition will not be reflected in the QML type system.</p>
<p>This is libqmlbind's rough equivalent of <a href="https://doc.qt.io/qt-5/qqmlengine.html#qmlRegisterType">QQmlEngine::registerType</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
<small>
The documentation provided herein is licensed under the terms of the
<a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation License version 1.3</a>
as published by the Free Software Foundation.
</small>
<small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
